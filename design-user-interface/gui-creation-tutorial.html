<h1 id="design-the-gui">Design the GUI</h1>
<p>Now you nailed the basics, we're going to see how to build a Game User Interface (GUI) with reusable UI components: a life bar, an energy bar, a bomb and a rupee counter. By the end of this tutorial, you'll have a game GUI, ready to control with GDscript:</p>
<div class="figure">
<img src="./img/ui_gui_design_final_result.png" alt="The final result" />
<p class="caption">The final result</p>
</div>
<p>You'll also learn to:</p>
<ol style="list-style-type: decimal">
<li>Create flexible UI components</li>
<li>Use scene inheritance</li>
<li>Build a complex UI</li>
</ol>
<h2 id="breaking-down-the-ui">Breaking down the UI</h2>
<p>Let's break down the final UI and plan the containers we'll use. As in the <a href="#">main menu tutorial</a>, it starts with a MarginContainer. Then, we can either see up to three columns:</p>
<ol style="list-style-type: decimal">
<li>The life and energy counters on the left</li>
<li>The life and energy bars</li>
<li>The bomb and rupee counters on the right</li>
</ol>
<p>But the bar's label and the gauge are 2 parts of the same UI element. If we think of them this way, we're left with 2 columns:</p>
<ol style="list-style-type: decimal">
<li>The life and energy bars on the left</li>
<li>The bomb and rupee counters on the right</li>
</ol>
<p>This makes it easier to nest containers: we have some margins around the border of the screen, a MarginContainer, followed by an HBoxContainer to manage our two columns. The two bars stack on top of one another, inside a VBoxContainer. And we'll need a last HBoxContainer in the right column to place the bomb and rupee counters side-by-side.</p>
<div class="figure">
<img src="./img/ui_gui_step_tutorial_containers_structure.png" alt="We get a clean UI layout with only 4 containers" />
<p class="caption">We get a clean UI layout with only 4 containers</p>
</div>
<p>We will need extra containers inside the individual UI components, but this gives us the main GUI scene's structure. With this out of the way, we can jump into Godot and create our GUI.</p>
<h2 id="create-the-base-gui">Create the base GUI</h2>
<p>There 2 possible approaches to the GUI: we can design elements in separate scenes and put them together, or prototype everything in a single scene and break it down later. I recommend to work with a single scene as you can play with your UI's placement and proportions faster this way. Once it looks good, it's easy to save entire sections of the node tree as reusable sub-scenes. We'll do just that in a moment.</p>
<p>For now, let's start with a few containers.</p>
<p>Create a new scene and add a MarginContainer. Select the node and name it GUI. Then, save the scene and name it GUI.tscn. It will contain the entire GUI.</p>
<p>With the MarginContainer selected, head to the inspector and scroll down to the custom constants section. Unfold it and click the field next to each of the Margin properties. Set them all to 20 pixels. Next, add an HBoxContainer node. This one will contain our two bars on the left and separate them from the two counters on the right.</p>
<p>We want to stack the bars vertically inside the HBoxContainer. To to this, let's add a VBoxContainer. Name it &quot;Bars&quot;. Select the parent HBoxContainer again and this time, add another HBoxContainer. This one will hold the counters, so call it &quot;Counters&quot;. With these four containers along, we have the base for our GUI scene.</p>
<div class="figure">
<img src="./img/ui_gui_containers_structure_in_godot.png" alt="You should have 4 containers that look like this" />
<p class="caption">You should have 4 containers that look like this</p>
</div>
<p>.. note:: We can work this way because we first broke down our UI design and took a few moments to think about the containers we'd use. When you follow a tutorial like this, it may seem weird. But once you're working on real games, you'll see it's an efficient workflow.</p>
<h3 id="create-the-bars-base">Create the bars' base</h3>
<p>Each bar is split into two sub-elements that align horizontally: the label with the health count on the left, and the gauge on the right. Once again, the HBoxContainer is the perfect tool for the job. Select the Bars node and add a new HBoxContainer inside of it. Name it &quot;Bar&quot;.</p>
<p>The label itself is requires at least three nodes: a NinePatchRect for the background, on top of which we'll add a sprite on the left, either &quot;HP&quot; or &quot;EP&quot;, and a <code>Label</code> on the right for the value. We can nest Control nodes however we want. We could use the NinePatchRect as a parent for the two other elements, as it encompasses them. In general, you want to use containers instead, as their role is to help organize UI components. We'll need a MarginContainer later anyway to add some space between the life count and the gauge. Select the Bar and add a MarginContainer. Name it &quot;Count&quot;. Inside of it, add three nodes:</p>
<ol style="list-style-type: decimal">
<li>A NinePatchRect named &quot;Background&quot;</li>
<li>A TextureRect named Title</li>
<li>And a Label named Number</li>
</ol>
<p>To add the nodes as siblings, always select the <code>Count</code> node first.</p>
<div class="figure">
<img src="./img/ui_gui_step_tutorial_bar_template_1.png" alt="Your scene tree should look like this. We&#39;re ready to throw in some textures" />
<p class="caption">Your scene tree should look like this. We're ready to throw in some textures</p>
</div>
<p>To load the textures, browse down to the assets/GUI folder in the filesystem tab on the left of the editor you should see a list of sprites that will use to create the UI elements.</p>
<p>Then, add a TextureRect inside of it and name it &quot;Title&quot;. and a label next to it. For the label to work, will need to place it inside a small margin container.</p>
<p>Select the bar name the age box container bar so we can easily find it later. Select the bar node and add a texture progress inside of it. Name the texture progress node gauge. In the inspector, under the texture progress class, in the expand under the texture progress class, in the inspector in the inspector, under the texture progress class, and for the textures section. Click the dots next to the under texture With the gauge selected click and drag the lightbar BG sprite onto the under slot in the textures section. As you are dragging the texture, you should see and arrange outline around the Texas lot do the same with the lightbar_bill.PNG image and drop it onto the progress slot.</p>
<h2 id="create-reusable-ui-components">Create reusable UI components</h2>
<h3 id="bar">Bar</h3>
<p>We need a common bar that will modified to create the life bar on the one hand, and the energy bar on the other hand.</p>
<h3 id="widget">Widget</h3>
<h3 id="turn-branches-into-individual-scenes">Turn branches into individual scenes</h3>
<h2 id="inherited-scenes">Inherited Scenes</h2>
<p>We need 2 bars that work the same way: they should feature a label on the left, with some value, and a horizontal gauge on the right. The only difference is that one has the HP label and is green, while the other is called EP and it's yellow. Godot gives us a powerful tool to create a common base to reuse for all bars in the game: <strong>inherited scenes</strong>.</p>
<div class="figure">
<img src="img/gui_step_tutorial_gui_scene_hierarchy.png" alt="Inherited scenes help us keep the GUI scene clean. In the end, we will only have containers and one node for each UI component." />
<p class="caption">Inherited scenes help us keep the GUI scene clean. In the end, we will only have containers and one node for each UI component.</p>
</div>
<p>On an inherited scene, you can change any property of every node in the inspector, aside from its name. If you modify and save the parent scene, all the inherited scenes update to reflect the changes. If you change a value in the inherited scene, it will always overrides the parent's property. It's useful UIs as they often require variations of the same elements. In general, in UI design, buttons, panels etc. share a common base style and interactions. We don't want to copy it over to all variations manually.</p>
<p>A reload icon will appear next to the properties you override. Click it to reset the value to the parent scene's default.</p>
<p>.. note:: Think of scene inheritance like the node tree, or the <code>extends</code> keyword in GDScript. An inherited scene does everything like its parent, but you can override properties, resources and add extra nodes and scripts to extend its functionality.</p>
<h3 id="inherit-the-bar-scene-to-build-the-lifebar">Inherit the Bar Scene to build the LifeBar</h3>
<p>Go to Scene -&gt; New Inherited Scene to create a new type of Bar. Select the Bar scene and open it. You should see a new [unsaved] tab, that's like your Bar, but with all nodes except the root in red. Press Ctrl S to save the new inherited scene and name it <code>LifeBar</code>.</p>
<div class="figure">
<img src="img/ui_gui_step_tutorial_inherited_scene_parent.png" alt="You can&#39;t rename red nodes. This tells you they have a parent scene" />
<p class="caption">You can't rename red nodes. This tells you they have a parent scene</p>
</div>
<p>First, rename the root or top level node to <code>LifeBar</code>. We always want the root to describe exactly what this UI component is. The name differentiates this bar from the EnergyBar we'll create next. The other nodes inside the scene should describe the component's structure with broad terms, so it works with all inherited scenes. Like our Gauge and Label nodes.</p>
<p>.. note:: If you've ever done web design, it's the same spirit as working with CSS: you create a base class, and add variations with modifier classes. From a base button class, you'll have button-green and button-red variations for the user to accept and refuse prompts. The new class contains the name of the parent element and an extra keyword to explain how it modifies it. When we create an inherited scene and change the name of the top level node, we're doing the same thing</p>
<h2 id="create-final-components">Create final components</h2>
<h3 id="life-and-energy-bars">Life and energy bars</h3>
<h3 id="bombs-and-rupee-counters">Bombs and rupee counters</h3>
<h2 id="build-the-final-gui-with-our-inherited-scenes">Build the final GUI with our inherited scenes</h2>
<h2 id="final-note-on-responsive-design">Final note on responsive design</h2>
<p>We don’t need the interface to be as flexible as a website. In the majority of games, you don’t want to support both landscape and portrait screen orientations. It’s one of the other. That’s why it’s enough for the GUI elements to only move horizontally when we change the window size. In landscape position, the most common ratios range from 4:3 16:10.</p>
